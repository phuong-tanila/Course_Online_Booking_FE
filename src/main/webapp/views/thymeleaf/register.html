<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="icon" href="../../resources/img/qtc-logo-black.png" type="image/png"/>
    <title>The Best IT Training Center - 100+ Courses | QTCenter.com</title>
    <link rel="stylesheet" href="../../resources/css/modal-form.css"/>
    <link rel="stylesheet" href="../../resources/css/style.css"/>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
            crossorigin="anonymous"
    />
    <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"
    ></script>
    <title>Register</title>
</head>
<body>
<section class="vh-100">
    <div class="mask d-flex align-items-center h-100 gradient-custom-3">
        <div class="container h-100">
            <div
                    class="row d-flex justify-content-center align-items-center h-100"
            >
                <div class="col-12 col-md-9 col-lg-7 col-xl-6">
                    <div class="card" style="border-radius: 15px">
                        <div class="card-body p-5">
                            <h2 class="text-uppercase text-center mb-5">
                                Create an account
                            </h2>

                            <form th:action="@{/register}" th:object="${user}" method="POST">
                                <div class="form-outline mb-2">
                                    <input
                                            type="text"
                                            class="form-control form-control-lg"
                                            placeholder="Enter Full Name"
                                            th:field="*{fullname}"
                                            required
                                    />
                                </div>

                                <div class="form-outline mb-2">
                                    <input
                                            id="email-or-phone"
                                            type="text"
                                            class="form-control form-control-lg"
                                            placeholder="Enter Email"
                                            th:field="*{email}"
                                            required
                                            onchange="checkEmail()"
                                    />
                                </div>
                                <div class="form-outline mb-2">
                                    <input
                                            type="text"
                                            class="form-control form-control-lg"
                                            placeholder="Enter Phone"
                                            th:field="*{phone}"
                                            required
                                    />
                                </div>
                                <div id="msg-email-or-phone"></div>
                                <div style="color: red;" th:if="${msg} != null" th:text="|* ${msg}|"></div>
                                <div class="form-outline mb-2">
                                    <input
                                            id="password"
                                            type="password"
                                            class="form-control form-control-lg"
                                            placeholder="Enter Password"
                                            th:field="*{password}"
                                            required
                                    />
                                </div>

                                <div class="form-outline mb-4">
                                    <input
                                            onchange="checkPassword()"
                                            id="repeat-password"
                                            type="password"
                                            class="form-control form-control-lg"
                                            placeholder="Repeat Your Password"
                                            required
                                    />
                                </div>
                                <div class="form-check d-flex justify-content-center mb-5">
                                    <input
                                            class="form-check-input me-2"
                                            type="checkbox"
                                            checked="checked"
                                            required
                                    />
                                    <label class="form-check-label">
                                        I agree all statements in
                                        <a href="#!" class="text-body"
                                        ><u>Terms of service</u></a
                                        >
                                    </label>
                                </div>

                                <div class="d-flex justify-content-center">
                                    <button type="submit" class="modal-register-btn">
                                        Register
                                    </button>
                                </div>

                                <p class="text-center text-muted mt-5 mb-0">
                                    Have already an account?
                                    <a href="header.html" class="fw-bold text-body"
                                    ><u>Login here</u></a
                                    >
                                </p>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script th:inline="javascript">/*<![CDATA[*/
          var btn = document.querySelector(".modal-register-btn");
         function checkEmail() {
            var email = document.getElementById('email-or-phone');
            var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            if (!filter.test(email.value)) {
                     alert('Hay nhap dia chi email hop le.\nExample@gmail.com');
                     email.focus;
                     btn.disabled = true;
                     return false;
            }
            else {
                     btn.disabled = false;
                     return true;
            }
         }
         function checkPassword() {
            var password = document.getElementById('password').value;
            var repeatPassword = document.getElementById('repeat-password').value;
            console.log(password)
            console.log(repeatPassword)
            if (password != repeatPassword) {
                     alert('Repeat password not true');
                     repeatPassword.focus;
                     btn.disabled = true;
                     return false;
            }
            else {
                     btn.disabled = false;
                     return true;
            }
         }
    /*]]>*/
    </script>
</section>
</body>
</html>
